!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(){}function t(n){return n()}function e(){return Object.create(null)}function r(n){n.forEach(t)}function o(n){return"function"==typeof n}function a(n,t){return n!=n?t==t:n!==t}function i(n,t){n.appendChild(t)}function c(n,t,e){n.insertBefore(t,e||null)}function u(n){n.parentNode.removeChild(n)}function s(n){return document.createElement(n)}function l(n){return document.createTextNode(n)}function d(){return l(" ")}function f(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function p(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function h(n,t,e){n.classList[e?"add":"remove"](t)}function g(n){const t={};for(const e of n)t[e.name]=e.value;return t}let m;function v(n){m=n}const S=[],b=[],y=[],C=[],w=Promise.resolve();let M=!1;function A(n){y.push(n)}let T=!1;const N=new Set;function I(){if(!T){T=!0;do{for(let n=0;n<S.length;n+=1){const t=S[n];v(t),B(t.$$)}for(v(null),S.length=0;b.length;)b.pop()();for(let n=0;n<y.length;n+=1){const t=y[n];N.has(t)||(N.add(t),t())}y.length=0}while(S.length);for(;C.length;)C.pop()();M=!1,T=!1,N.clear()}}function B(n){if(null!==n.fragment){n.update(),r(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(A)}}const E=new Set;const R="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function x(n,t){-1===n.$$.dirty[0]&&(S.push(n),M||(M=!0,w.then(I)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function $(a,i,c,s,l,d,f,p=[-1]){const h=m;v(a);const g=a.$$={fragment:null,ctx:null,props:d,update:n,not_equal:l,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:e(),dirty:p,skip_bound:!1,root:i.target||h.$$.root};f&&f(g.root);let S=!1;if(g.ctx=c?c(a,i.props||{},((n,t,...e)=>{const r=e.length?e[0]:t;return g.ctx&&l(g.ctx[n],g.ctx[n]=r)&&(!g.skip_bound&&g.bound[n]&&g.bound[n](r),S&&x(a,n)),t})):[],g.update(),S=!0,r(g.before_update),g.fragment=!!s&&s(g.ctx),i.target){if(i.hydrate){const n=function(n){return Array.from(n.childNodes)}(i.target);g.fragment&&g.fragment.l(n),n.forEach(u)}else g.fragment&&g.fragment.c();i.intro&&((b=a.$$.fragment)&&b.i&&(E.delete(b),b.i(y))),function(n,e,a,i){const{fragment:c,on_mount:u,on_destroy:s,after_update:l}=n.$$;c&&c.m(e,a),i||A((()=>{const e=u.map(t).filter(o);s?s.push(...e):r(e),n.$$.on_mount=[]})),l.forEach(A)}(a,i.target,i.anchor,i.customElement),I()}var b,y;v(h)}let P;var G;"function"==typeof HTMLElement&&(P=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:n}=this.$$;this.$$.on_disconnect=n.map(t).filter(o);for(const n in this.$$.slotted)this.appendChild(this.$$.slotted[n])}attributeChangedCallback(n,t,e){this[n]=e}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=n}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}),function(n){n[n.Failed=0]="Failed",n[n.NoBrowserSupport=1]="NoBrowserSupport",n[n.NoAudioConsent=2]="NoAudioConsent",n[n.Disconnected=3]="Disconnected",n[n.Disconnecting=4]="Disconnecting",n[n.Connecting=5]="Connecting",n[n.Connected=6]="Connected",n[n.Starting=7]="Starting",n[n.Stopping=8]="Stopping",n[n.Recording=9]="Recording"}(G||(G={})),new Map([[G.Failed,"Failed"],[G.NoBrowserSupport,"NoBrowserSupport"],[G.NoAudioConsent,"NoAudioConsent"],[G.Disconnecting,"Disconnecting"],[G.Disconnected,"Disconnected"],[G.Connecting,"Connecting"],[G.Connected,"Connected"],[G.Starting,"Starting"],[G.Stopping,"Stopping"],[G.Recording,"Recording"]]);var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var L,O,F=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},D=F;function H(n,t,e,r){return n.call(r,t[e],e,t)}var K=function(n,t,e){var r,o=0;for(r in null==L&&function(){for(var n in O=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=!0,{toString:null})L=!1}(),n)if(!1===H(t,n,r,e))break;if(L)for(var a=n.constructor,i=!!a&&n===a.prototype;(r=O[o++])&&("constructor"===r&&(i||!D(n,r))||n[r]===Object.prototype[r]||!1!==H(t,n,r,e)););},_=K;var U=function(n){var t=[];return _(n,(function(n,e){"function"==typeof n&&t.push(e)})),t.sort()};var j=function(n,t,e){var r=n.length;t=null==t?0:t<0?Math.max(r+t,0):Math.min(t,r),e=null==e?r:e<0?Math.max(r+e,0):Math.min(e,r);for(var o=[];t<e;)o.push(n[t++]);return o},z=j;var V=function(n,t,e){var r=z(arguments,2);return function(){return n.apply(t,r.concat(z(arguments)))}};var Z=function(n,t,e){if(null!=n)for(var r=-1,o=n.length;++r<o&&!1!==t.call(e,n[r],r,n););},W=U,J=V,q=Z,Y=j;var Q=function(n,t){var e=arguments.length>1?Y(arguments,1):W(n);q(e,(function(t){n[t]=J(n[t],n)}))},X=F,nn=K;var tn=function(n,t,e){nn(n,(function(r,o){if(X(n,o))return t.call(e,n[o],o,n)}))};var en=function(n){return n};var rn=function(n){return function(t){return t[n]}},on=/^\[object (.*)\]$/,an=Object.prototype.toString;var cn=function(n){return null===n?"Null":undefined===n?"Undefined":on.exec(an.call(n))[1]},un=cn;var sn=function(n,t){return un(n)===t},ln=sn,dn=Array.isArray||function(n){return ln(n,"Array")},fn=tn,pn=dn;function hn(n,t){for(var e=-1,r=n.length;++e<r;)if(gn(n[e],t))return!0;return!1}function gn(n,t){return n&&"object"==typeof n?pn(n)&&pn(t)?function(n,t){for(var e=-1,r=t.length;++e<r;)if(!hn(n,t[e]))return!1;return!0}(n,t):function(n,t){var e=!0;return fn(t,(function(t,r){if(!gn(n[r],t))return e=!1})),e}(n,t):n===t}var mn=gn,vn=en,Sn=rn,bn=mn;var yn=function(n,t){if(null==n)return vn;switch(typeof n){case"function":return void 0!==t?function(e,r,o){return n.call(t,e,r,o)}:n;case"object":return function(t){return bn(t,n)};case"string":case"number":return Sn(n)}},Cn=tn,wn=yn;var Mn=function(n,t,e){t=wn(t,e);var r=!1;return Cn(n,(function(e,o){if(t(e,o,n))return r=!0,!1})),r},An=Mn;var Tn=function(n,t){return An(n,(function(n){return n===t}))};var Nn=function(n){return!!n&&"object"==typeof n&&n.constructor===Object},In=tn,Bn=Nn;var En=function n(t,e){for(var r,o=0,a=arguments.length;++o<a;)(r=arguments[o])&&In(r,(function(e,r){var o=t[r];null==o?t[r]=e:Bn(o)&&Bn(e)&&n(o,e)}));return t},Rn=tn,xn=Nn;function $n(n,t){for(var e,r=0,o=arguments.length;++r<o;)(e=arguments[r])&&Rn(e,Pn,n);return n}function Pn(n,t){var e=this[t];xn(n)&&xn(e)?$n(e,n):this[t]=n}var Gn=$n,kn=tn,Ln=yn;var On=function(n,t,e){t=Ln(t,e);var r=!0;return kn(n,(function(e,o){if(!t(e,o,n))return r=!1,!1})),r},Fn=sn;var Dn=function(n){return Fn(n,"Object")};var Hn=F,Kn=On,_n=Dn,Un=function(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t};function jn(n,t){return Hn(this,t)}var zn=function(n,t,e){return e=e||Un,_n(n)&&_n(t)?Kn(n,function(n){return function(t,e){return Hn(this,e)&&n(t,this[e])}}(e),t)&&Kn(t,jn,n):e(n,t)},Vn=Z,Zn=j,Wn=tn;var Jn=function(n,t){return Vn(Zn(arguments,1),(function(t){Wn(t,(function(t,e){null==n[e]&&(n[e]=t)}))})),n},qn=tn,Yn=yn;var Qn=function(n,t,e){t=Yn(t,e);var r={};return qn(n,(function(n,e,o){t(n,e,o)&&(r[e]=n)})),r},Xn=Mn,nt=yn;var tt=function(n,t,e){var r;return t=nt(t,e),Xn(n,(function(n,e,o){if(t(n,e,o))return r=n,!0})),r},et=tn,rt=Nn;function ot(n,t,e,r){return et(n,(function(n,o){var a=e?e+"."+o:o;0!==r&&rt(n)?ot(n,t,a,r-1):t[a]=n})),t}var at=function(n,t){return null==n?{}:ot(n,{},"",t=null==t?-1:t)};var it=function(n,t){for(var e=t.split("."),r=e.pop();t=e.shift();)if(null==(n=n[t]))return;return n[r]},ct=it;var ut=function(n,t){return undefined!==ct(n,t)},st=tn,lt=Object.keys||function(n){var t=[];return st(n,(function(n,e){t.push(e)})),t},dt=tn,ft=yn;var pt=function(n,t,e){t=ft(t,e);var r={};return dt(n,(function(n,e,o){r[e]=t(n,e,o)})),r},ht=tn;var gt=function(n,t){var e=!0;return ht(t,(function(t,r){if(n[r]!==t)return e=!1})),e},mt=yn;var vt=function(n,t,e){if(null!=n&&n.length){if(n.length&&!t)return Math.max.apply(Math,n);t=mt(t,e);for(var r,o,a,i=-1/0,c=-1,u=n.length;++c<u;)(a=t(o=n[c],c,n))>i&&(i=a,r=o);return r}return 1/0},St=tn;var bt=function(n){var t=[];return St(n,(function(n,e){t.push(n)})),t},yt=vt,Ct=bt;var wt=tn;function Mt(n,t){this[t]=n}var At=function(n,t){for(var e,r=0,o=arguments.length;++r<o;)null!=(e=arguments[r])&&wt(e,Mt,n);return n},Tt=cn,Nt=Nn,It=At;var Bt=function(n){switch(Tt(n)){case"Object":return Nt(r=n)?It({},r):r;case"Array":return n.slice();case"RegExp":return e="",e+=(t=n).multiline?"m":"",e+=t.global?"g":"",e+=t.ignoreCase?"i":"",new RegExp(t.source,e);case"Date":return new Date(+n);default:return n}var t,e,r},Et=tn,Rt=cn,xt=Nn;function $t(n,t){switch(Rt(n)){case"Object":return function(n,t){if(xt(n)){var e={};return Et(n,(function(n,e){this[e]=$t(n,t)}),e),e}return t?t(n):n}(n,t);case"Array":return function(n,t){var e=[],r=-1,o=n.length;for(;++r<o;)e[r]=$t(n[r],t);return e}(n,t);default:return Bt(n)}}var Pt=F,Gt=$t,kt=Dn;var Lt=function n(){var t,e,r,o,a=1;for(o=Gt(arguments[0]);r=arguments[a++];)for(t in r)Pt(r,t)&&(e=r[t],kt(e)&&kt(o[t])?o[t]=n(o[t],e):o[t]=Gt(e));return o},Ot=yn;var Ft=function(n,t,e){if(null!=n&&n.length){if(n.length&&!t)return Math.min.apply(Math,n);t=Ot(t,e);for(var r,o,a,i=1/0,c=-1,u=n.length;++c<u;)(a=t(o=n[c],c,n))<i&&(i=a,r=o);return r}return-1/0},Dt=Ft,Ht=bt;var Kt=Z;var _t=function(n,t){return t?(Kt(t.split("."),(function(t){n[t]||(n[t]={}),n=n[t]})),n):n};var Ut=function(n,t,e){if(e=e||0,null==n)return-1;for(var r=n.length,o=e<0?r+e:e;o<r;){if(n[o]===t)return o;o++}return-1},jt=Ut;var zt=j,Vt=function(n,t){return-1!==jt(n,t)};var Zt=function(n,t){var e="string"!=typeof arguments[1]?arguments[1]:zt(arguments,1),r={};for(var o in n)n.hasOwnProperty(o)&&!Vt(e,o)&&(r[o]=n[o]);return r},Wt=j;var Jt=function(n,t){for(var e,r="string"!=typeof arguments[1]?arguments[1]:Wt(arguments,1),o={},a=0;e=r[a++];)o[e]=n[e];return o},qt=pt,Yt=rn;var Qt=tn;var Xt=function(n){var t=0;return Qt(n,(function(){t++})),t},ne=tn,te=Xt;var ee=function(n,t,e,r){var o=arguments.length>2;if(!te(n)&&!o)throw new Error("reduce of empty object with no initial value");return ne(n,(function(n,a,i){o?e=t.call(r,e,n,a,i):(e=n,o=!0)})),e},re=Qn,oe=yn;var ae=sn;var ie=function(n){return ae(n,"Function")};var ce=function(n,t){var e=n[t];if(void 0!==e)return ie(e)?e.call(n):e},ue=_t;var se=function(n,t,e){var r=/^(.+)\.(.+)$/.exec(t);r?ue(n,r[1])[r[2]]=e:n[t]=e},le=ut;var de=function(n,t){if(le(n,t)){for(var e=t.split("."),r=e.pop();t=e.shift();)n=n[t];return delete n[r]}return!0},fe={bindAll:Q,contains:Tn,deepFillIn:En,deepMatches:mn,deepMixIn:Gn,equals:zn,every:On,fillIn:Jn,filter:Qn,find:tt,flatten:at,forIn:K,forOwn:tn,functions:U,get:it,has:ut,hasOwn:F,keys:lt,map:pt,matches:gt,max:function(n,t){return yt(Ct(n),t)},merge:Lt,min:function(n,t){return Dt(Ht(n),t)},mixIn:At,namespace:_t,omit:Zt,pick:Jt,pluck:function(n,t){return qt(n,Yt(t))},reduce:ee,reject:function(n,t,e){return t=oe(t,e),re(n,(function(n,e,r){return!t(n,e,r)}),e)},result:ce,set:se,size:Xt,some:Mn,unset:de,values:bt};(function(){var n,t;t=fe,n=function(){function n(){}return n.prototype.getCountry=function(t){return n.prototype.countries[t]},n.prototype.getCode=function(e){var r,o;return o=null,null!=e&&-1!==(r=t.values(n.prototype.countries).indexOf(e))&&(o=Object.keys(n.prototype.countries)[r]),o},n.prototype.getCountries=function(){return t.values(n.prototype.countries)},n.prototype.getCodes=function(){return Object.keys(n.prototype.countries)},n.prototype.getData=function(){return n.prototype.countries},n.prototype.countries={AF:"Afghanistan",AX:"Åland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, the Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Côte d'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Réunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthélemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},n}(),null!=null||new n}).call(k);for(var pe=[],he=0;he<256;++he)pe.push((he+256).toString(16).substr(1));var ge,me,ve,Se,be,ye,Ce,we={exports:{}};
/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */ge=we,me=we.exports,function(n){var t=me,e=ge&&ge.exports==t&&ge,r="object"==typeof k&&k;r.global!==r&&r.window!==r||(n=r);var o=function(n){this.message=n};(o.prototype=new Error).name="InvalidCharacterError";var a=function(n){throw new o(n)},i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,u={encode:function(n){n=String(n),/[^\0-\xFF]/.test(n)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,e,r,o,c=n.length%3,u="",s=-1,l=n.length-c;++s<l;)t=n.charCodeAt(s)<<16,e=n.charCodeAt(++s)<<8,r=n.charCodeAt(++s),u+=i.charAt((o=t+e+r)>>18&63)+i.charAt(o>>12&63)+i.charAt(o>>6&63)+i.charAt(63&o);return 2==c?(t=n.charCodeAt(s)<<8,e=n.charCodeAt(++s),u+=i.charAt((o=t+e)>>10)+i.charAt(o>>4&63)+i.charAt(o<<2&63)+"="):1==c&&(o=n.charCodeAt(s),u+=i.charAt(o>>2)+i.charAt(o<<4&63)+"=="),u},decode:function(n){var t=(n=String(n).replace(c,"")).length;t%4==0&&(t=(n=n.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(n))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var e,r,o=0,u="",s=-1;++s<t;)r=i.indexOf(n.charAt(s)),e=o%4?64*e+r:r,o++%4&&(u+=String.fromCharCode(255&e>>(-2*o&6)));return u},version:"0.1.0"};if(t&&!t.nodeType)if(e)e.exports=u;else for(var s in u)u.hasOwnProperty(s)&&(t[s]=u[s]);else n.base64=u}(k),function(n){n.Opened="WEBSOCKET_OPEN",n.SourceSampleRateSetSuccess="SOURSE_SAMPLE_RATE_SET_SUCCESS",n.Started="started",n.Stopped="stopped",n.SegmentEnd="segment_end",n.Transcript="transcript",n.Entity="entity",n.Intent="intent",n.TentativeTranscript="tentative_transcript",n.TentativeEntities="tentative_entities",n.TentativeIntent="tentative_intent"}(ve||(ve={})),function(n){n.Failed="Failed",n.NoBrowserSupport="NoBrowserSupport",n.NoAudioConsent="NoAudioConsent",n.Idle="Idle",n.Connecting="Connecting",n.Ready="Ready",n.Recording="Recording",n.Loading="Loading"}(Se||(Se={})),function(n){n.Poweron="poweron",n.Mic="mic",n.Error="error",n.Denied="denied"}(be||(be={})),function(n){n.Hold="hold",n.Click="click",n.Noninteractive="noninteractive"}(ye||(ye={})),function(n){n.None="none",n.Connecting="connecting",n.Busy="busy"}(Ce||(Ce={})),G.Disconnected,be.Poweron,ye.Click,Ce.None,G.Disconnecting,be.Poweron,ye.Noninteractive,Ce.Connecting,G.Connecting,be.Poweron,ye.Noninteractive,Ce.Connecting,G.Connected,be.Mic,ye.Hold,Ce.None,G.Starting,be.Mic,ye.Hold,Ce.Connecting,G.Recording,be.Mic,ye.Hold,Ce.None,G.Stopping,be.Mic,ye.Noninteractive,Ce.Busy,G.Failed,be.Error,ye.Click,Ce.None,G.NoBrowserSupport,be.Error,ye.Click,Ce.None,G.NoAudioConsent,be.Denied,ye.Click,Ce.None;const{window:Me}=R;function Ae(n){let t,e,r,o,a,l,p,h,g=n[2]===Re&&Te(n),m=n[2]===G.NoAudioConsent&&Ne(),v=n[2]===G.NoBrowserSupport&&Ie(),S=n[2]===xe&&Be();return{c(){t=s("errorDiv"),e=s("errorLeft"),e.textContent="×",r=d(),g&&g.c(),o=d(),m&&m.c(),a=d(),v&&v.c(),l=d(),S&&S.c()},m(u,s){c(u,t,s),i(t,e),i(t,r),g&&g.m(t,null),i(t,o),m&&m.m(t,null),i(t,a),v&&v.m(t,null),i(t,l),S&&S.m(t,null),p||(h=f(e,"click",n[4]),p=!0)},p(n,e){n[2]===Re?g?g.p(n,e):(g=Te(n),g.c(),g.m(t,o)):g&&(g.d(1),g=null),n[2]===G.NoAudioConsent?m?m.p(n,e):(m=Ne(),m.c(),m.m(t,a)):m&&(m.d(1),m=null),n[2]===G.NoBrowserSupport?v||(v=Ie(),v.c(),v.m(t,l)):v&&(v.d(1),v=null),n[2]===xe?S?S.p(n,e):(S=Be(),S.c(),S.m(t,null)):S&&(S.d(1),S=null)},d(n){n&&u(t),g&&g.d(),m&&m.d(),v&&v.d(),S&&S.d(),p=!1,h()}}}function Te(n){let t,e,r,o,a,f,h,g,m,v,S,b,y,C,w=n[1].appId+"";return{c(){t=s("errorRight"),e=s("h1"),e.textContent="Failed to connect Speechly",r=d(),o=s("p"),a=l("Please check that Speechly application id '"),f=l(w),h=l("' has been successfully deployed."),g=d(),m=s("p"),v=s("a"),v.textContent="Troubleshooting",S=l("\n                \n            "),b=s("a"),y=l("Reload"),p(v,"href","https://docs.speechly.com/faq/#error-invalid-app-id"),p(b,"href",C=window.location.href)},m(n,u){c(n,t,u),i(t,e),i(t,r),i(t,o),i(o,a),i(o,f),i(o,h),i(t,g),i(t,m),i(m,v),i(m,S),i(m,b),i(b,y)},p(n,t){2&t&&w!==(w=n[1].appId+"")&&function(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}(f,w)},d(n){n&&u(t)}}}function Ne(t){let e,r,o,a,f,h,g,m,v,S;return{c(){e=s("errorRight"),r=s("h1"),r.textContent="No Mic Permission",o=d(),a=s("p"),a.textContent="To use the voice interface, please allow your web browser access the\n            microphone and reload.",f=d(),h=s("p"),g=s("a"),g.textContent="Troubleshooting",m=l("\n                \n            "),v=s("a"),S=l("Reload"),p(g,"href","https://docs.speechly.com/faq/#error-no-audio-consent"),p(v,"href",window.location.href)},m(n,t){c(n,e,t),i(e,r),i(e,o),i(e,a),i(e,f),i(e,h),i(h,g),i(h,m),i(h,v),i(v,S)},p:n,d(n){n&&u(e)}}}function Ie(n){let t;return{c(){t=s("errorRight"),t.innerHTML='<h1>Unsupported Browser</h1> \n          <p>To use the voice interface, please visit this site using a supported\n            browser.</p> \n          <p><a href="https://docs.speechly.com/client-libraries/supported-browsers/#error-no-browser-support">Troubleshooting</a></p>'},m(n,e){c(n,t,e)},d(n){n&&u(t)}}}function Be(t){let e,r,o,a,f,h,g,m,v,S;return{c(){e=s("errorRight"),r=s("h1"),r.textContent="HTTPS Required",o=d(),a=s("p"),a.textContent="To use the voice interface, please visit this site using the secure\n            https:// protocol.",f=d(),h=s("p"),g=s("a"),g.textContent="Troubleshooting",m=l("\n                \n            "),v=s("a"),S=l("Try with HTTPS"),p(g,"href","https://docs.speechly.com/faq/#error-https-required"),p(v,"href",window.location.href.replace(/^http(?!s)/,"https"))},m(n,t){c(n,e,t),i(e,r),i(e,o),i(e,a),i(e,f),i(e,h),i(h,g),i(h,m),i(h,v),i(v,S)},p:n,d(n){n&&u(e)}}}function Ee(t){let e,r,o,a,l,g=t[2]&&Ae(t);return{c(){e=s("link"),r=d(),o=s("main"),g&&g.c(),this.c=n,p(e,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),p(e,"rel","stylesheet"),h(o,"bottom","bottom"===t[0])},m(n,u){i(document.head,e),c(n,r,u),c(n,o,u),g&&g.m(o,null),a||(l=f(Me,"message",t[3]),a=!0)},p(n,[t]){n[2]?g?g.p(n,t):(g=Ae(n),g.c(),g.m(o,null)):g&&(g.d(1),g=null),1&t&&h(o,"bottom","bottom"===n[0])},i:n,o:n,d(n){u(e),n&&u(r),n&&u(o),g&&g.d(),a=!1,l()}}}const Re="InvaldAppId",xe="HttpsRequired";function $e(n,t,e){let{placement:r=null}=t,o={};let a=null;const i=(n,t)=>{e(1,o={appId:t})},c=n=>{var t,r;switch(n){case G.Failed:e(2,a=Re);break;case G.NoAudioConsent:case G.NoBrowserSupport:if("https:"!==(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.protocol)&&("localhost"!==(r=window.location.hostname)&&"[::1]"!==r&&null===r.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))){e(2,a=xe);break}e(2,a=n)}};return n.$$set=n=>{"placement"in n&&e(0,r=n.placement)},[r,o,a,n=>{switch(n.data.type){case"holdstart":c(n.data.state);break;case"initialized":console.log(n.data),i(n.data.status,n.data.appId)}},()=>{e(2,a=null)}]}class Pe extends P{constructor(n){super(),this.shadowRoot.innerHTML="<style>main.bottom{position:fixed;bottom:0;left:0;right:0;min-height:10em;z-index:51;user-select:none;pointer-events:none}errorDiv{box-sizing:border-box;position:relative;width:100%;min-height:10em;background-color:white;user-select:text;pointer-events:all;color:black;display:flex;box-shadow:0 0 8px #00000040;flex-direction:row}errorLeft{box-sizing:border-box;width:2rem;background-color:red;padding:0.2rem 0.2rem;color:#ffffff;display:flex;flex-direction:column;align-items:center;justify-content:start;font-size:1.5rem;cursor:pointer}errorRight{background-color:white;padding:1rem 3rem 1rem 1rem;overflow:auto;flex-grow:1}h1{font-size:1.5rem;margin:0;padding:0 0 0.5rem 0;font-family:'Saira Condensed', sans-serif;text-transform:uppercase}p{margin:0;padding:0 0 0.5rem 0;color:#999}a{color:#000}</style>",$(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},$e,Ee,a,{placement:0},null),n&&(n.target&&c(n.target,this,n.anchor),n.props&&(this.$set(n.props),I()))}static get observedAttributes(){return["placement"]}get placement(){return this.$$.ctx[0]}set placement(n){this.$$set({placement:n}),I()}}customElements.get("error-panel")?console.warn("Skipping re-defining customElement error-panel"):customElements.define("error-panel",Pe)}));
//# sourceMappingURL=error-panel.js.map
